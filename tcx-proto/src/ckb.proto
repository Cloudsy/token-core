syntax = "proto3";
package transaction;

message OutPoint {
   bytes txHash = 1;
   int32 index = 2;
}

message Witness {
    bytes lock = 1;
    bytes inputType = 2;
    bytes outputType = 3;
}

message Script {
   bytes args = 1;
   bytes codeHash = 2;
   string hashType = 3;
}

message CellInput {
    OutPoint previousOutput = 1;
    string since = 2;
}

message CellOutput {
   int64 capacity = 1;
   Script lock = 2;
   Script type = 3;
}

message CellDep {
   OutPoint outPoint = 1;
   string depType = 2;
}

message CachedCell {
    bytes blockHash = 1 ;
    int64 capacity = 2;
    Script lock = 3;
    OutPoint outPoint = 4;
    bool cellbase = 5;
    int32 outputDataLen = 6;
    string status = 7;
    bytes dataHash = 8;
    Script type = 9;

    string derivePath = 10;
}

message TxInput {
    int32 version = 1;

    repeated CellDep cellDeps = 2;
    repeated bytes headerDeps = 3;
    repeated CellInput inputs = 4;
    repeated CellOutput outputs = 5;
    repeated Witness witnesses = 6;
    repeated bytes outputsData = 7;

    repeated CachedCell cachedCells = 8;

    bytes txHash = 9;
}

message TxOutput {
    bytes txHash = 1;
    repeated Witness witnesses = 2;
}

